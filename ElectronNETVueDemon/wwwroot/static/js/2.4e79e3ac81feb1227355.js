webpackJsonp([2],{NlRW:function(e,t){},"T+/8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("F5sT"),o=r.n(s),i={name:"Login",data:()=>({systemName:o.a.title,loginForm:{userName:"admin",password:"password"},loginRules:{userName:[{required:!0,trigger:"blur",validator:(e,t,r)=>{0===t.length?r(new Error("请输入登录账号/手机号")):r()}}],password:[{required:!0,trigger:"blur",validator:(e,t,r)=>{0===t.length?r(new Error("请输入登录密码")):r()}}]},loading:!1,redirect:void 0,otherQuery:{}}),computed:{showAlert(){const e=navigator.userAgent.toLowerCase();return null!=e.match(/msie/)||null!=e.match(/trident/)}},watch:{$route:{handler:function(e){const t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},methods:{handleLogin(){this.$refs.loginForm.validate(e=>{if(!e)return!1;this.loading=!0,this.$store.dispatch("user/login",this.loginForm).then(e=>{this.loading=!1,e.success?this.$router.push({path:this.redirect||"/dashboard",query:this.otherQuery}):this.$message({message:e.message,type:"error"})}).catch(()=>{this.loading=!1})})},getOtherQuery:e=>Object.keys(e).reduce((t,r)=>("redirect"!==r&&(t[r]=e[r]),t),{})}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[e.showAlert?r("el-alert",{attrs:{title:"您正在使用的IE内核浏览器兼容性差，网页加载慢，为了您有更好的操作体验，请下载使用谷歌浏览器，如使用的是360浏览器、百度浏览器、搜狗浏览器、QQ浏览器等，请切换到极速模式。",type:"error","show-icon":""}}):e._e(),e._v(" "),r("div",{staticClass:"filter-container",staticStyle:{padding:"120px 0 0 0"}},[r("el-card",{staticClass:"box-card",staticStyle:{margin:"30px auto",width:"400px"}},[r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[e._v("\n                    "+e._s(e.systemName)+"\n                ")])]),e._v(" "),r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[r("el-form-item",{attrs:{prop:"userName"}},[r("el-input",{ref:"userName",attrs:{placeholder:"请输入账号/手机号码/身份证号码"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{ref:"password",attrs:{placeholder:"请输入密码","show-password":"","auto-complete":"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),r("el-form-item",[r("div",[r("el-button",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登 录")])],1)])],1)],1)],1)],1)},staticRenderFns:[]};var n=r("VU/8")(i,a,!1,function(e){r("NlRW")},null,null);t.default=n.exports}});
//# sourceMappingURL=2.4e79e3ac81feb1227355.js.map